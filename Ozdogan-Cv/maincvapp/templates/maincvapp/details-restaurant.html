{% extends "maincvapp/base.html" %} {% load static %} {% block title %}Ahmed
Ã–zdoÄŸan - Restaurant{% endblock %} {% block extra_head %}
<link rel="stylesheet" href="{% static 'css/details.css' %}" />

{% endblock %} {% block content %}
<main>
  <h1>Restaurant</h1>
  <div class="tab-container">
    <div class="tabs">
      <button class="tab active" data-tab="tab1">Overview</button>
      <button class="tab" data-tab="tab2">Tech Stack</button>
      <button class="tab" data-tab="tab3">Pictures</button>
    </div>
    <div class="tab-content">
      <div id="tab1" class="content active">
        <h3>Overview</h3>
        <div class="overview-text">
          <p>
            A full-stack restaurant web application built with Django 5 and
            Django REST Framework (DRF), designed to demonstrate scalable
            backend development, clean API design, and responsive frontend
            implementation. The backend follows RESTful API best practices with
            structured endpoints for menu management and reservation handling,
            while the frontend leverages HTML5, CSS3, and JavaScript (vanilla
            ES6) for a mobile-first, interactive user experience. The project
            emphasizes clean architecture, database-driven design (SQLite),
            role-based views, and production-ready static file handling
            (WhiteNoise) â€” showcasing skills highly relevant for backend
            engineers, full-stack developers, and API integration specialists.
          </p>
        </div>
        <div class="overview-image">
          <img
            src="{% static 'img/restaurant/desktop_page1.png' %}"
            alt="Restaurant Dashboard"
          />
        </div>
      </div>
      <div id="tab2" class="content">
        <h3>Tech Stack & Features</h3>

        <div class="tech-details">
          <div class="features-section">
            <h4>ðŸ’» Features</h4>
            <!-- ðŸ’» Features table -->
            <table class="features-table">
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Highlights</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>UX & Responsive Design</td>
                  <td>Responsive design for desktop, tablet, and mobile</td>
                </tr>
                <tr>
                  <td>Menu Browsing</td>
                  <td>Category filters & item detail pages</td>
                </tr>
                <tr>
                  <td>Reservations</td>
                  <td>Reservation creation and booking availability check</td>
                </tr>
                <tr>
                  <td>REST API</td>
                  <td>Endpoints for menu & reservations</td>
                </tr>
                <tr>
                  <td>Error Handling</td>
                  <td>Custom error pages (400.html, 404.html, 500.html)</td>
                </tr>
                <tr>
                  <td>Assets Organization</td>
                  <td>Per-app static files for organized assets</td>
                </tr>
                <tr>
                  <td>Static File Serving</td>
                  <td>WhiteNoise in production</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tech-stack-section">
            <h4>ðŸ›  Tech Stack</h4>
            <!-- ðŸ›  Tech Stack table -->
            <table class="features-table">
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Highlights</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Backend</td>
                  <td>Django 5, Django REST Framework</td>
                </tr>
                <tr>
                  <td>Frontend</td>
                  <td>HTML5, CSS3, JavaScript (vanilla)</td>
                </tr>
                <tr>
                  <td>Database</td>
                  <td>SQLite</td>
                </tr>
                <tr>
                  <td>Styling</td>
                  <td>Custom CSS, mobile-first responsive design</td>
                </tr>
                <tr>
                  <td>Static Files</td>
                  <td>WhiteNoise for production</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div id="tab3" class="content">
        <h3>Pictures</h3>
        <div class="image-navigation">
          <button class="previous" onclick="previousImage()">
            <i class="fa-solid fa-angle-double-left"></i>
          </button>
          <div id="imageWrap" class="overview-image">
            <img
              id="mainImage"
              src="{% static 'img/restaurant/desktop_page1.png' %}"
              alt="Restaurant Screenshot"
            />
          </div>
          <button class="next" onclick="nextImage()">
            <i class="fa-solid fa-angle-double-right"></i>
          </button>
        </div>
        <!-- dots -->
        <div class="dots" id="dots">
          <span class="dot active"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  const tabs = document.querySelectorAll(".tab");
  const contents = document.querySelectorAll(".content");
  tabs.forEach((tab) => {
    tab.addEventListener("click", () => {
      tabs.forEach((t) => t.classList.remove("active"));
      contents.forEach((c) => c.classList.remove("active"));
      tab.classList.add("active");
      document.getElementById(tab.dataset.tab).classList.add("active");
    });
  });

  function getFileName(path) {
    return path.substring(path.lastIndexOf("/") + 1);
  }

  const images = [
    "{% static 'img/restaurant/desktop_page1.png' %}",
    "{% static 'img/restaurant/desktop_page2.png' %}",
    "{% static 'img/restaurant/desktop_page3.png' %}",
    "{% static 'img/restaurant/desktop_page4.png' %}",
    "{% static 'img/restaurant/desktop_page5.png' %}",
    "{% static 'img/restaurant/mobile_page1.png' %}",
    "{% static 'img/restaurant/mobile_page2.png' %}",
    "{% static 'img/restaurant/mobile_page3.png' %}",
    "{% static 'img/restaurant/mobile_page4.png' %}",
    "{% static 'img/restaurant/mobile_page5.png' %}",
  ];

  let currentIndex = 0;
  const mainImage = document.getElementById("mainImage");
  const dots = document.querySelectorAll(".dot");

  function updateDots(index) {
    dots.forEach((dot, i) => {
      dot.classList.toggle("active", i === index);
    });
  }

  function nextImage() {
    currentIndex = (currentIndex + 1) % images.length;
    mainImage.src = images[currentIndex];
    runFadeIn();
    updateDots(currentIndex);
  }

  function previousImage() {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    mainImage.src = images[currentIndex];
    runFadeIn();
    updateDots(currentIndex);
  }

  // Clicking Dots
  dots.forEach((dot, index) => {
    dot.addEventListener("click", () => {
      currentIndex = index;
      mainImage.src = images[currentIndex];
      runFadeIn();
      updateDots(currentIndex);
    });
  });

  function runFadeIn() {
    mainImage.style.animation = "none";
    // force reflow
    void mainImage.offsetWidth;
    mainImage.style.animation = "fadeIn 0.5s";
  }

  // Swipe functionality
  (function addSwipe() {
    const wrap = document.getElementById("imageWrap");
    if (!wrap) return;

    let startX = 0;
    let startY = 0;
    let isDown = false;
    const SWIPE_THRESHOLD = 50;
    const MAX_ANGLE_RATIO = 0.6;

    wrap.addEventListener("pointerdown", (e) => {
      isDown = true;
      startX = e.clientX;
      startY = e.clientY;
    });

    wrap.addEventListener("pointerup", (e) => {
      if (!isDown) return;
      isDown = false;

      const dx = e.clientX - startX;
      const dy = e.clientY - startY;

      if (
        Math.abs(dx) > SWIPE_THRESHOLD &&
        Math.abs(dx) > Math.abs(dy) * MAX_ANGLE_RATIO
      ) {
        if (dx < 0) {
          nextImage();
        } else {
          previousImage();
        }
      }
    });

    wrap.addEventListener("pointercancel", () => {
      isDown = false;
    });
    wrap.addEventListener("pointerleave", () => {
      isDown = false;
    });
  })();
</script>
{% endblock %}
